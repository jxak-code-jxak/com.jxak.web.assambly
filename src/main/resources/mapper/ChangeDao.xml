<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jxak.education.dao.ChangeDao">
    <resultMap id="BaseMap" type="com.jxak.education.entity.ChangeEntity">
        <id column="id" property="id"/>
        <result column="change_state" property="changeState"/>
        <result column="remark" property="remark"/>
        <result column="plan_id" property="planId"/>
        <result column="remark" property="remark"/>
    </resultMap>
    <resultMap id="Change_Plan" type="com.jxak.education.entity.ChangeEntity" extends="BaseMap">
        <association property="planEntity" javaType="com.jxak.education.entity.PlanEntity">
            <id column="plan_id" property="id"/>
            <result column="plan_code" property="planCode"/>
            <result column="plan_name" property="planName"/>
            <result column="plan_object" property="planObject"/>
            <result column="plan_time" property="planTime"/>
            <result column="plan_type" property="planType"/>
            <result column="plan_state" property="planState"/>
        </association>
    </resultMap>
    <select id="getChangeList" resultMap="Change_Plan">
        select t1.id,t1.plan_id,t1.change_state,t1.remark,t2.plan_code,t2.plan_name,t2.plan_object,t2.plan_time,t2.plan_type from change_info t1 left join plan_info t2 on t1.plan_id=t2.id
    </select>
</mapper>
